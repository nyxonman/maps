<!DOCTYPE html>
<html>
  <head>
	<title>TEPCO GEO LOCATE</title>
	<!-- Meta Data -->
	<meta charset="utf-8">
	<meta name="description" content="Mapping the receiver points">
	<meta name="author" content="Nikesh Man SHAKYA">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.3.2/mapbox-gl.css' rel='stylesheet' />

	
	<style type="text/css">
		body {
			background: #105469;
			/*background: #454545;*/
			padding    : 0px;
			margin     : 0px;
			font-family: 'Open Sans', sans-serif;
		}

		.container {
			max-width: 1024px;
			margin: 0 auto;
		}
		
		#map {
			width     : 100%;
			height    : 300px;
			margin-top: 15px;
		}
		.hidden{
			display:none;
		}
		.center {
			text-align: center;
		}
		.panel {
		  /*position  : relative;*/
			margin    : 15px auto;
			width     : 200px;
			/*height  : 280px;*/
			background: #D6E7F1;
			padding   : 0 10px 10px 10px;
			border    : 1px solid #a0a0a0;
			box-shadow:  0px 0px 5px 5px rgba(54,58,69,1);

		}
		.panel img{
			width:30px;
		}
		.row {
			color        : #607d8b;
			margin-bottom: 5px;
			margin-top: 5px;
			width: 100%;
		}
		.col-6{
			width: 48%;
			float: left;
			margin-bottom: 5px;
			margin-left: 2%;
		}
		.logo img{
			color: red;
			font-style: italic;
			font-weight: bolder;

		}
		#versionId {
		    font-size: 11px;
		    float: right;
		    margin: -7px;
		}
		#onlineStatus{
			font-size: 11px;
		    float: right;
			margin-top: -25px;
		    margin-right: -7px;
		    padding: 2px;
		}
		
		.online{
			background: green;
			color:white;
		}
		.offline{
			background: red;
			color:white;
		}

		.textBox {
			width : 90%;
			height: 20px;
			border: 1px solid #78909c;
			border-radius: 3px;
		}
		.textBox:focus{
			outline: none;
			border-color: #9ecaed;
			box-shadow: 0 0 5px #9ecaed;
		}
		.row.buttons{
			margin-top: 15px;
		}
		.button {
			/*width           : 199px;*/
			/*height          : 25px;*/
			background-color: #ffffff;
			color           : #78909c;
			border          : 1px solid #78909c;
			/*padding: 8px;*/
			padding: 6px 12px;
			border-radius: 4px;
		}
		
		.testNotStarted{
			color: #fff;
			background-color: #337ab7;
			border-color: #2e6da4;
			width: 100%;
			margin-top: 6px;
		}
		.testNotStarted:hover{
			color: #fff;
			background-color: #286090;
			border-color: #204d74;
		}
		.testStarted{
			color: #fff;
			background-color: #d9534f;
			border-color: #d43f3a;
			width: 100%;
			margin-top: 6px;
		}
		.testStarted:hover{
			color: #fff;
			background-color: #c9302c;
			border-color: #ac2925;
		}
		#showInMap{
			color: #fff;
			background-color: #5cb85c;
			border-color: #4cae4c;
		}
		#showInMap:hover{
			color: #fff;
			background-color: #449d44;
			border-color: #398439;
		}
		#export2csv{
			color: #fff;
			background-color: #f0ad4e;
			border-color: #eea236;
		}
		#export2csv:hover{
			color: #fff;
			background-color: #ec971f;
			border-color: #d58512;
		}

		#table{
			margin   : 0 auto;
			/*max-width: 1024px;*/
		}
		#table table{
			margin-top     : 15px;
			width          : 100%;
			border-collapse: collapse;
			border-color: #167F92;
			background: #FFFFFF;

		}
		table th, table td{
			padding: 7px;
			border:1px solid #D9E4E6;
		}
		table th{
			color: #FFF;
			background: #008080;
		}
		table td{
		  /*padding: 5px;*/
		}
		#table table .tableRow:hover {
			background: #F5DEB3;
		}
		tr:nth-child(even){background-color: #EAF3F3}

		.removeTxt{
			cursor         :pointer;
			text-decoration: underline;
			color          :#A6130E;
		}
		.removeTxt:hover {
			color           : #FFFFFF;
			background-color: #A6130E;
		}

		.overlay{
			background   : rgba(75, 116, 156,0.4);
			border       : solid 1px #336699;
			border-radius: 4px;
			box-shadow   : 2px 2px 10px #333;
			padding      : 3px;
			color        : white;
		}

		.marker  span {
		  display:flex;
		  justify-content:center;
		  align-items:center;
		  box-sizing:border-box;
		  width: 30px;
		  height: 30px;
		  color:#fff;
		  border:solid 2px;
		  border-radius: 0 70% 70%;
		  box-shadow:0 0 2px #000;
		  cursor: pointer;
		  transform-origin:0 0;
		  transform: rotateZ(-135deg);
		}

		.marker.green span{
		  background: #20B2AA;
		}

		.marker.red span{
			background:#FF1493;
		}

		.marker b {transform: rotateZ(135deg)}

		.mapboxgl-popup {
		  max-width: 200px;
		}

	</style>
	<!-- <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Open+Sans"> -->
	</head>

	<body>
		<div class="container">
			<div class="panel">
				
				<div class="row center" style="font-size: 20px;">
					<div class="logo "><img src="./logo.png" alt="Itron"></div> <div class="header">GeoLocate <span id="versionId"></span><span id="onlineStatus">Offline</span></div>
					
				</div>
				<div class="row center radio-tx-rx">
						<input type="radio" id= "radio-tx" name="radio-tx-rx" value="tx"> TX
						<input type="radio" id="radio-rx" name="radio-tx-rx" value="rx" checked="checked"> RX
					</div>
				<div class="row" >
					<div class="col-6" id="div-rxId">
						<label for="rxId"><span style="font-size: 13px;">Rx Id:</span></label>
						<input type="text" id="rxId" class="textBox" placeholder="RX device id">
					</div>
					<div class="col-6">
						<label for="txId"><span style="font-size: 13px;">Tx Id:</span></label>
						<input type="text" id="txId" class="textBox" placeholder="TX device id">
					</div>
					
				</div>
				<div class="row">
					<div class="col-6">
						<label for="locationId"><span style="font-size: 13px;">Location:</span></label>
						<input type="text" id="locationId" class="textBox">
					</div>
					<div class="col-6" id="div-testRuns">
						<label for="testRuns"><span style="font-size: 13px;">Test Runs:</span></label>
						<input type="text" id="testRuns" class="textBox" value="1">
					</div>
				</div>
				
				<div class="row">
					<input type="button" value="Start at your location" id="loc_button" class="button testNotStarted">
				</div>
				
				
			</div> <!-- panel -->
			<div class="row buttons">
				<input type="button" value="Show in Map" id="showInMap" class="button">
				<input type="button" value="Export to CSV" id="export2csv" class="button">
			</div>
			
			<div id="map"></div>
			<div id="table" style="overflow-x: auto" class="center">
				<table border=1>
					<thead>
						<tr><th nowrap>U-ID</th><th nowrap>Location</th><th nowrap>Tx ID</th><th nowrap>Rx ID</th><th nowrap>StartTime(ms)</th><th nowrap>Latitude</th><th nowrap>Longitude</th><th nowrap>Accuracy(in m)</th><th nowrap>Altitude</th><th nowrap>Test Reps</th><th nowrap>Entry for</th><th nowrap>Action</th></tr>
					</thead>
					<tbody id="tableContents">
						
					</tbody>
					<tfoot id="foot">
					</tfoot>
					
				</table>
			</div> <!-- table -->
		</div> <!-- container -->

	<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.3.2/mapbox-gl.js'></script>
	
	<!-- <script src="script.js"></script> -->
		<script type="text/javascript">
		  
			var sourceIcon        = 's.png';
			const VERSION         = '1.1.0';
			const MAP_INIT_ZOOM   = 10;
			const MAP_LOCATE_ZOOM = 15;
			loc_data              = [];
			loc_ids               = [];
			u_ids                 = []; // txid-rxid-locid
			fields                = ["U_ID", "Loc_id", "Tx_id", "Rx_id", "StartTime", "Latitude", "Longitude",  "Accuracy", "Altitude", "Test_reps" ,"EntryFor", "Action"];
			testTime              = (11 * 45); //timeslotduration * number of channels
			var timerId           = 0;
			var timerRunning      = false;
			var appInTx           = false;
			var lastrxId          = "";
			var lastTxId          = "";
			var lasttestRuns      = "";
			var online            = false;
			var markersList       = []


			var testCompleteAudio = new Audio("data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU3LjgzLjEwMAAAAAAAAAAAAAAA//uQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAoAABC7wAMDBISGBgYHx8lJSUrKzExMTg4Pj4+RERKSkpRUVdXV11dY2NjampwcHB2dnx8fIODiYmJj4+VlZWcnKKioqiorq6utbW7u7vBwcfHx87O1NTU2trg4ODn5+3t7fPz+fn5//8AAAAATGF2YzU3LjEwAAAAAAAAAAAAAAAAJAV8AAAAAAAAQu9Md0JaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uQZAAAA4MzTw094AAzIAeAoAwAEil/XbmGgADBACBTBCAAAKQ/BbBNCWPTnLmq29DzTQ98XwegyF2IQDkDUCGC4EIQiaGrFYrHjykB48V6vV6vZ38fdH79+/Y1er4+Fer1er38f4pe97//FH7+973/9KUo8eRJUPHoJwdDJqG/fv3jyICAIZQEOUDFQIHAff/1Ah4Jg+D4PxOf//85Wf//wQDGUBAEAQBAH34Df/Ang+D75cH3ygPg+D5/ygPg+f/BDB8HAQAATAAAj10IH/JO0hEkRCRFgoGqeMYW+e5yMzs8pQvtBO/qVkDhLl0DGPlpkE5MDhdOLJES04TkCIOIxMieSKZsan2RHYG4lnwvqSljODnSNi0qJIwMia8yNZd+9Y/hdzXrPF42fk4YGmVrMScX2JYvHi89U66wvRz9ZBB+GSbf0g5J//jKLf+PBP/+OdD/+TDdIAAAAAgAByLHREm10oe6237g1Tzhb+1AuYej1MAyn3Jd8r2J9/yzTwom0S9N3/GqAAoAAMYAQ4BMGDzFC07rMM3KAUJP+uVl//uSZAwBBFhRzp9ugAYrIBfo4AAAEd1JL25WkwCogCCwEIwA1ZYYAjRpPADqxgLXSQNA1YQL3EKXRzSImpHE8igXi89FFFS2RTQTo18horUWSEzAAjQAlAFjxEi6yTq96tb91q/UbC3hioDNKANmSEIyXLyRsYnmSdH//+pxlg6wElAGENhdQGnF42////pJCCQsskiJDaiBAAA0sui5Bre5UzXQg59Mv5D5DXJVetBG+1iXdkUftf9ll+t1ew4LZ/QAIyACoBgVkKOQCAp6WZjR9R7EgA1NrzIW5AgdmV/eGRFLZPQwIHzOhmFgLA1LGpZDF4/FJGy036STIrQSMzxgf8yEoAYPJAGITgAFWB2mKl/606i+//oJlwh4qAEAoGwAgfusDY+GxGiC///oMmXC41aibGcDugYMSBVUBiTAdsian////ODrNhQQXRJsnZEmqymVNUmFLa5L1F71xttd6Y3bO1u9/9bffrLbqouzqF6H/bv/r+/T9apEGIAgxAAABM6ag/aWhwAAiWmo1tLx+5c8j/mgFCdbMWMEJeZ0Wv/7kmQTAPSRUU/rbz6gJoAH0AAAABPhXVeuajKYn4BgQACMAMqgl7mcPW87uUr+SF/7TBILae+juQxezp79JjT6v63Xz1haWCMqFQDFWZtqmd3+mN8oEW0oYuJr7gVf2eR8avbV340wmwjz59D3m5/5hlZzDccGoOxoXMHS40NPGx4HEgoTTRv///RTSI87zXrP1dVDsdbdR7mpX1H2mKHV1+i6i7cttKKOY/9HRdS1z2iN7sx4vAFoANfAUUZDBoed17FxLGMBBoIWDTjKYlMcgmVNpMMvp6VnyRqJXbsMGoSYHsA2aLAUTQQTBoEaGrFMOKMYnMkxIIhEvFT5mQO6GDqaBnJmnqV+yiYHpu7JIOxRF0LeGZC1s6OUTKy4WyiYkWoPRSZbJLMDZaGi/5xeePnTUfQD+HzCFyYJs8o+isydZ1tv///a6FSKK1O7KSRlMjjUT3qYvftnWz2+O+Euux9+hsy/sKNezl3XNYyQo7luW3/3jbqTEcpifqqOCJYJEKzS0zQgoZNAhN6kE9NOmZVkrdmUt2ut0CppaK4s6zz/+5JkEgAD+VfRu0OklCbgCDwEIgAU1WMsL3aP0JMAYWAQAAAGJUjzmXzvZSQ4BAz84VlJqL3y6RpAhDyCquiWBzmTNA3YugEmwAkhOGlmnTyTq7/qStpP+pJ9ZdIcFzQGUUg2UCIELhHSazSc/////zFqjJ6zKZMcSHNWXiuaNJuIGJkURNre5They8+TqQ7e1Nn9+nx/9X/bpp7v9Nm/+qM7nKTpBBB1I5EMGgWGAcEyYKajph+BYmAYA0QgAsOcVNZG9C1aK9DAPA8MMUDUIAAMAZBIYBgKYuRaajBAq2WUlJ+qTncN9z//+XUVNZmI1vv/QxlyZXGM///3+5RL2WrCmUprmEowg4IWbP3QNOsuiuVYjn/W37f/+tFI6K8BgQYIfYGyUAeO4CKOLJAcDJYlBnyKEXFgXv/////1pl1Riyll0jSLCDiKmjokIJARSdo+tiakbWJ2+i/X/2fr/+rQP7vxVB6igXPdaH+r3f1VQBAAABijnAKrxYEhwjOJG0BaMSCik4/GE93D+be5hZhwiKySx+GhGFB+RYlCyA78//uSZBgABQhYTbuZnNAr4AhbBAAAEpUzT61MupCdACEwEAAAjfx02yFsR4dwSz6ylRwxDlj/3rliNy6zG9SuN3/5//9JUlmrmNYQrnleCmFEaOfsyubtzcbl0tJ0khwEDLxMk+XCmVP//8qikQbagYYAZVCf0E1rJtiaMG9SHar/6jRTGiajBux0umheWuiTJ0xLxWdRIIggCAfNpWp72C8nQrtfchuqpves4vR7+r9tOnss1Xrt3bfznI6/Tdc/JRANoAKtgIFs3r41QEwAox5cuYYmEADCgIoCBxwyIURgYAhEqpIeLMxmkAolEppgsFceTCi4bTkTFTJa53gRpwQNSmuPFBdvp5PCcw3nUj8G2F3MxjGSjdemYe/z6NToEyKgO5lKooJrQNiKgV6BxEFGGhBhkR3E+Syzeadf/9DBIPCSt07Kc8i3ZUb/9AIoeHxA7ySY0WiigoSiG2FEvDr1Hm3Lf7W+j+il+4Su/V7etDfZ2O//0Mp0/t+pxAaAAAEAIEVBPAUxAIJeBwzCkKDCI9qVK9I5TsLgVnqHYt8i8v/7kmQShARKUNFjHJlyKCAIKAQAABQRSTjuaoeAnYBhcAAAABkYgGQ0DmUqws2oGvmTgylzTXxySrKRWqPtrSLpeQ+odYXME0TqmKaZSLxkZFlMi07P9pwixcBvKBg2AdYTofJk0NjpfJkukPdi+kTms//Uyan/+spjrK5k3nyz//rUtJ9kyuXjiBTACTXoFnxbQ00ylotdFez92js+tX7vIlGXP0fYn17O+/6U9m5VMAAAAAgcLAUGA4XCANEhiMEgA2LOjmQWAz9KsRGF1IcjNaHdZaxEAFjPITKDDSy1QLbQSuuygwO8BWVBpbTGKSKX8sk6amBj84MaBlzAFlJvSNDecPS+XSIlw2/UtyuA42BmZoG1ZgYYGZF0+gYiCgWFgSRiwHx1E4XjqpmbN+YFwev/rMTINnBqSCEERcq8wLhGH//1l4yP+TJsLUXz39LdSCSImSUSaT4eRTHj6dOKM81qZ/u9znnbKWV1sT7vu6v/6a/Tb/rVcAAQAFIvyvdhhlkIAAMmT7Sb2CaLbdR0HOEmCAkkTCyBrgjABMJE7DH/+5JkFIAEmlFOQ4mlEC1gGCAAAAASYP9PrW22kKCAIeQQAACJ0Fg4uZk1dnYgLJt0P3blOCb03u89hexuzh8vn5+S4QAgHHxH6SKSSVS1or/+dOgmHBu8DVlwLBiJkQy6KAC2IXDiGnS6cL3OnsvkTL58+cOHD389nDhfFBB7Y3CIl/l4unv//+dJYiJDMki3jrFp/KaGamCKlFRVPRTqSyajSjdo5Wu6ldDycaSbu6jzNuLjqFMfZTcvTCAYEADigEEg6ULWXOQCIBXwMBXL+ESE0RwzVsBTpSgJnZ5ssLZ30sA4Ot7pGlwY0Vk0h7EX+kMoApEHND6584o6PDhTXkYzEXMoBTSSMDEn8s93SXdW1IIXU8MTPbcoz/8Ma1UFaatY7RGgt36x6mp7/4sUh/AyAPwOkC2E4DnjIIQcwd6ZGf6RqE3f/0mX+7Bcj95cyrMySOKSpZ6iifUMNVI6Kf78jmnblIyGhrQt7vf/pVR0oFW/2F2AMAAgAAI6EYEwsmBGPCGJHGmPg4ABWIb1M2QMUBegAjqS1LC1AGNLnUtj//uSZBWEBL5aUNNMliAooAhbAAAAE0VpOE3qicCxACFwAAAAyRChjkUjCTKHFY3kprbquE/YWLgJ8Lb2OsCd9prtQTOfNvr3rBpaecXQ/rszOOPFZIs5h2Cy2971NBziXR8hpFyKlp/+qiOg3AsIHZBb2PA7iZLxeJ08XDhq+tzY5r////qfooemzrTX1GhcThLQBICAIe5rnOK2ragVch8hTbX9etn7+jm/p/M13d7rEM5Xd/b6mO1gwBDFGvjQASlgIPTFKAHUsNmC5puKmLAlmsYMQTbsicMEiAkEKaGCwaCCkQMWIquQFVI/sZtvLH8nJIBpyhJnwkZjW+4/i7eyyHhjURqapJIoqetRwV4EjQWHDJpEeO1aRBiwyzI2LhBfmKzVv/rOivjnAouA2BMDQAxbSSEphzAoHDSx7GmVUn6Mm/////9FK/zVFFZuu583YGpggEwIKCVhlhxosptiKIgea9vIC9FSlf2e7ejqRPUret7GbsW6ftv/26+lwAZAFMNYiwUCgQXCDRT4WmEmzDIM+0KIiZzFVmh01EIw5v/7kmQRADRsWc6zaaYSK6AYSAAiABLZaUOtQFrAowBgwACMAG9l+myxgxMSInCjf8REpsoW30V7nuH6MKBZz7kCAJtY5RRtw5PggTllo28AV44gYij2GKRlEi4GJPAwGN5C9aqS2Z1P///qSDVANqAinAMNhZRFgtwCEQK2FjJcirfrb/////S/9ZfdLPGo2UhAAAa8cphuNmVtQL6rP0b9NevfelNent+M+pel6CLL/cllqX1/q5vU68Y8AAQgAEAAJBYGoAZmKasgukA2Q4YyEdFhsIKDjKAgSPIhbqrrlxQHZo/b6PyjKTLHsttAHiq1+13Tak2EEg0imaKwvxZmn5eZ7Sz4JenBJmCELAqKJ3rqZS0Jg6JPlA62spmxibEVCcHYWgc+YHjAyLjIP/rN51/1olcOhHgTEqmY6hdD8Vl+jKm/////ujSV/qcSNmDLCTrUsTc5TEJ8VoYh9DG2/UnU7rILZZvSa1xeXb0qV13fziF2Kv+r2VrQAAAAAAK6MgEqxKlZAaQmFQ4OZlvDMIS+hr5xMneCFuy+gOKNbd//+5JkE4AEhVFQU00+oCugCDAEIl4TJUM3LeprwKeAIWQAAABHxrCOgsNdtcpecwJZlz7SZyoNIAJw0hMyIA4sJn8ZqenHzSJMHpDuwsBYFNzE85MU4smlH0XrJqISo4HUUW8puonBe0ykPd/62om/1FJ4WDRyAqLQo/urI9qof9//1cxKKinF4bJa0HSupmxSRbfXsuZsfdv0Y2iZUI536loe2p52zZXLU9rmGtkTDvS7R5lmcvfrakACAAIAdbCFaQwGBjBQgGwRrtaDqoiCpYSBB2QCSiggOzpuyGA4TLrLgN+QCGoMPOENDV0AwmYnC1FdMZTxaAWEZwt5EngFHOSW9biQyHCBAZJKiNtmbY/cf7NbRBH/5TIgFvogqj+oZ4hwvABbgNTAaEQAjCkbrN3ZNlN/+tkydMiZMUDJ/1Zw0SW662NH//TPrQVvSNPlQzVMqMMKi9JBjQw221FA9SzNPFtVbDdVv+5vt7F/1Ysj+3/T0qmZjv62+ioQm0esCAIUBZiIKGEgyYwZoKe61GYGBwqcPIqxzAgCLwLcAQUz//uSZBKABNVRTYubk3QlABhsBAAAEuFFQ408vECegGFwEAAAYcA0AxpReAAONMwYA84WDhUWV26tC/NIo6BJgaGr7OL1e/82+LCjI1EXVygCltv8LsBhUJRzlF7CvL6fsrl9yMDiLxb6De4aMB04YOEpmK0kjhOi0j0OmXjzH2/+Ue2/86P4YjIwuE5zpuk//62MT3SNCGE6mjIyaEmRVRG1LSlaFtvTRq0PZq+jb/SOa5n3N10//usjP6f//1IAAAiADBIYG7zDGatTZmYYULRkfIaWqfZIBR5oypmQqhamjUZVHho+47htdf14ElAgJDuW9QElQPRcXElzS37dB1HAcV6TMAgqGic9LPjbcFLGICggwwBiqK8jZw8L9uzTRx41ftgiP6Mc+v/DfAwRMk5SZ/aBhXsjP//g8aPEBSHxgo8Y3RBAd9REFFAHHf//+bykFRY8eRBSSllVVMKSlKlnmLTo2bFod6NaLuZ+v96dS/zXJJ/9v9dGxvT6qowAATwAIABhKE6FstmTlfYYwYM2JTRoxQ2sIB2CMpiDY5Bblf/7kmQSAAQBUdJrKxcSKcAYKAQAAA/haUOtQFrAoAAg7BCJuKNDbSKCF2O5FgQDby5hUwcecfyB6dtVKw6Vs0trMKguisZ3M48wIx5TLRIjHTcBlMsp5Vk7uVl0pU+2X/ySSFCZNZdN1GnF//+j1jGiG3/6uZV////6GcYBZz3zBMwIkLvYRFbxWqytaFqlnpler6Of1P7m5r27dlNvRWmMd/7rphOxq/RXCAAEAAAAAJVyJrQOpSIwChhgWS5TBDQc5VI+yCI5tgHCm4zsgU0mC81mPy+OO211jCm01cvRWmoXcHkCBOtNBZiNlHN1TXJdlll9yOpoIBADweXR/5mo0zy2Q0JPD5MvyZKv/+sojIh7g9KPHmQMHW/2MDL////6GNN/6Jqo60xpgAGMDLC7T4s66t1Lk2aWVVaH/7NhF23nl/6/rq6/1WJRmf3W2dFAAYAAAAAAOTbCFdpJoep1QypQKuznm0yGbkAk32N84HcCRBBGbWjIGCUMD5EAIBGmDUMotSrO6pkpwLJoSsEioFAMOfzq5KARAAm+BFtGIf//+5JkKIYELVnO61QWQiqgCEwEAAASHWdBTTReSKqAYIAAAAD1F0QHKxOMs8dNF7olgrF360n//zhTDSgGBYcUepkQG8RdRhz7Ds/////oa6M30Qp1VYQSyommk0ZQRU60UHqc+1aGOzjLmW0Vs6Oj/0p/f/X17ppNr3eh36+tKfPMxZDMAOuW3OjYaggBiBpyGaUoSSa04sWBL5rzOEJBdQ0JUIJxuaCwZtMq6dybkm7zXO4qHhzBqeLpmJBgqg8l6V2fzp/lDsKUJoGMOgkirXDDsQ5et08YxlcXzX3MPG69ZhkZd+3rndrTMkGf83Y4aTM9+iThEAUQQHNxZEqWmqZyM3ROf///yc56dKNmDiGw4FR7WgKBEVBZhimrU7irexa0N950n0TSadjvpQyHo1Pscyz0WG3WV0yn952pwAAAAAAC6JLgWFlzwAkMlY55KCBTqHFMFgTAE0gJjAybQADEA7aRRL5Qi++ztFnZfvdallbjp/gYVuurKDgpggsWsUkZanbsSaAYpab8E0Qx24DKZXLIXEpz94Z0Lgx+o1Qh//uSZDGCBMpaUNNLF5AlgAhbACIAECk3Q6xA+kipAGBAEAAAKIHM4jesqbt02RNTpdf/ya0w7w3/+0TUDoHuCSbmS9MVi+xDGbb///OQxylRU0KQhldxj5AZWVIzUR0z1tYkBIQSW5aq0Psfy3+q3Z9ivX/7LqZkl/s/vp/+zj4QAAAgAfHAa8+r6XRG9CF0i9wKQzIRLL1S7Ucl6MyRlSguNkV7lRylAhI8Pld5bYOW9rhNmtUtBGr8GMJW6jg1OLY0tA2NbIBkDYMFknjE8cLz+XSEGSLQ2gOAAcZV/xPdP//9lAcD4JccG5Avjp6mnKqMp10f//15VuI2KQPR1/ssf9tbNV9C3P3IlRvlV22Vekt5Gxhaa/FyqOloztTXV3rtV2NXkHbkqHJVAABnpWCe5ItMM0h8EgBKoqxD5i5hZAYmg6OM7ZEUJQCvRTAJFEcqhEm1H4WFAhgRNC9ky/lAODzBHgMtRlXLz/+9D0sMrNTaA0udjr9Q8IQgAYwAZETaTaS/1kOEBBN4gKA8OBm2QDQIKGiCegQMexNi3/9/+v/7kmQ7AvR2OsyTW6WULeAIAAAAABNxAzutZHHAmoBggAAAAI3PGRBkSwTRZMD4w/EJNrmPIfzFUDuVN6O+x1q6lQFh7eKsaV32MIrkvFGItk7N9demn9t7GJZlmmXLa5rX8v7dc/eme2i6YAEAAAFDproeZnzMRkgWHBEZeZ6VlGoMhQErS71LFBAmCezPjABkB46EuhU7zOEJC00spZuaYCMqvzHoasVOf8GQwYBo8FQ49uXmeCMQxGR59/qLLCUWZfjXl7IGgIPtKTofoLwGKVIKCMVY3nDCVcjf3O3hYryulh+IRSvT56JAhOcTFl8J+cSCzQnNwSHP+oJhYHygbEaCYQXYoW1E++jlKVTKfp1ff0iZzTPb22LyWuqoutH6/bY0yEyH7cauRm28ggAAAAAJ8Fsh4egqqJSSnANEEylsTwsLOKIgwtImY4jxCNgaYcsodEpEGM6E7iIJRNzQHYSWljE/BAdLJ6W77/ug9udx+Cz4YhLO/+TgwWFHV4NrvN5snJoHpsyhNl4BtE/yyEOFLoZXSQ9QujQRqu48Tnb/+5JkOob10VXP61lM4B1AGDAAAAAVsUE2zejziI+AIMAQAACK/Lpl45QttGxk8Czt6XaBc4EyohCwiXJSQqxk0LKyybRGLDoeFQIyAQqBQ2jYSb/////////2cIRaWMEIGFiaiNlaVM5ben9i/7OjoXqH6dX6/f8W7G69taVfruv1/Q/dRXgBDurFaosVDFLUdOwwlnE1EbzfB0QAhjp+Y2Ap4pHGEiRggK2BB4HDpipMJ/LKHTXaYkDS5WeL7QQBwFwLC3pepeIAhhxLzP0zAyxMqB5bjq7UdJWEWekg1jtprNPLdynOlyVVV4YxOdMmRQkJS8HhZ33rsUd2INxeaB61r78/CUQwYmMKUjFmFd8DQoDyJzgcxWOBgasrfIGDVkHhe4wD0sP7H0//9LPSSTRz+r3bu7sttWrTqVpaprO/+7Wpui9NVs1/8jdY5fWrdXcvp3CPpYAAAAADG1ae5qmhUCnXJF0tGn2HEK7DDwgaDjQpIz0IT3VLIYZg4hBVjgBSNuMV6xsGASiCY7N+9YC+iDyZQkBpZx9qBgQ8aqFs//uSZCUCBWVRTUt4P4ApwBg4BAAAFBkDO61PWEC1AGBkAAAA2wUyYAWiavz9UMgHAAyFODhGZ9pUn///DrcFZDa0o6lsBwQ1Nt2WQ3/tKz2+jaqLQ9z/+RRhuJq8YUKCUNB/icXLE4oOPNFYhBMTg/F7X3Q7CwqQ0THH53//6mo7TlVCrz1axECwISLWCz1IlKa3LFEcK1GkJ2q9btv9X7/a5ky/KY0x+urRr/Q9no1skBCAAAOOmzxtICaK4AoDZWiaBnaMbjyE0IFukDyqUX30eylGKg13YPDS0EJRbiBKJrbjyuA1GocW9PvgCShnwFm5/bk0FuglENOIkv9RAK5zQIDkqUhZRbnpfv4Aij6KLiQQEgVJvo1xyIrD8Xc0CBGJtNoZ6MUVJG8n8xtTk3PR2Nv069HSQ5SX69JSfu3uY5zWqjv/z4ILQLSEokuFjk+qArAAACFEgNUAlU6KTTkVJc4quc7L3+Y6tjqo//U+vRsez/cy5iP/61KVbQqtkcEAAkABfvsntE2kNQeN778AJNL8ZbKlWWopNyZ7q9Pgrf/7kmQRgARlUFJrMxXSLsAYGQQAABItaT+tPppAo4BhJBAAAMmtHWJDCRTW6bg2YphLrWUNnEkD4m8mP+Ym4e6Kmeb9SyVHMI4ZwSc+cKiykfK5qOaJwAx1AxGEYECMB8lNkTcqEeXTiSTrNr0WZZYKYsBGF660WoBSq5KmIdSun//+WiOULpDh93aJ8GckoRAoAJ7xex7zFkKaTZtNlfa7ptypt/Yulf1M0v9DlL0NWpLFaWW099J6pX3dEYJoAAAAAAscVS1WOQwMXkYtDg4Kd6DED8BI12Jr6CokyQCA7lVQyF3W4kkA6EZXEajNLe/6BESL6yQwGiVPe+hkX//9pGWmCCFoZbDPFc//1eoZi/RkcnwzBQV0+lXj+FsAxpsDXGQo9IicJ46iouqdH/8+WBcggmMaeLx8mZ+kk9H////+tGkk6LVo+v+dMUuf7+dolUpzyEVQ5hKg82zu0WdXRYtv+vyjr2LSILfynXv1+v9t1NntRQBbViamMzUBtAkwioVcD6CaCYBCI5lCowthX4hWqsEOtdY0ITljtutQxM3/+5JkFYIE8lpLizuU4CRgCEgAAAAQWPU7rEKaQJ4AYIAAAAAOZzzEgRMyTdxf+DGmJgMumc2SJ0RerDcICACTa3qZaMhkbKuAJ9EIIsMvGPv5z/rvz2ZZQmA5SA8w0aMMDFud3hLkjAsoHSPZ9l+Iwl/qfDf///////oKIgZgUcDtgA+EAlmYuEqEu3////////6T7IHE7UWG34aTYcWldVjGT1rdKVdnQbrqT+z/t11p//77JVGxv9P8rIEAUQABZIZparWZlG9WFv1dF9ZaOraC/Fued1XojHOSGdmHPqP2INGpi16Ll22omkVQP19JOy29+4JLyN7SUlj+UCqwVeIHKxaNl/zhBWJoawFYQFLWoh4/A1wMkjA6gkCwsnzf//6y+fY6N8NhDjS00udMzL5/if/8MIWaM4Pv0mnVrqMFHOrd8X1qICmnoxfRbUxNm9FifFnb0XUBvv2Zn/WpQvq/2OfU2cykqCgQCn6fSarJncp3JRXaGw9W6lfRyZq7ELbODTJNNWpsteRzMjkj5a52M3IypQo6DoXAMRy2aNDW//uSZB4ANWRj1usSflYmwBg4AAAAEyVrTazN+VimACCAEAAAo/y/DI//IqQY1/pv+gj+ZkHIIVm//+tZIkoQ0XwXBAeYJxH0RpkUTBZfSGXIYOWWBj0hlzw5hTMDMoI//3TWb4prNOk0wwn8vn8jUSilk3GVXNa6esMJJu1OTwO8Ut5V/8RM33SPimr3pEy8RlhA8PMVGgACF4pYlVYlJL5OsKMu63e/1fcj1R9fV99jfQhf/f1W+739GpxmFkEAggAWbcp84NwUyU7e5USXOCerL25vNyxE1ELl7B9XKikUbk4spvf+sn2bmc5w8g02iuy6mtVjw8fRMSGDtNUv0XMygWippIP1OQFxzh6T+pBD/6khXhXgSEAecAoY4SgkVnd1aKKLUUfb/9t1ri266rW6xuum1Wp46lFdW4cld9SxcQmIyQ6T0lBipo2FiiKmioWKIlcKcQrtFvR23pf0PXn6KE9CaPd5mhM5brSq5Wt2unkEp3u6V2WnCTrX0ZEUEAAAAADQPIIUxVShATGkHCIqDlNKUDHWiyTHJZMMbWO3Bf/7kmQSAASXWk/rNC5EIYAYTAQAABQhaTmtULrAmQBhYAAAAKzzjG0AYs6wdTLP8OzCsJCAGABEtmy9dbCYmBNxDVNykRcRIXOb/6IuEU4LEQRIBjyqcTUovl51sT6R436nKRQDfH/9RKiEodOAIpA4RIDRAgweik9FbGNOc7vWq3//+SRRFh5xiRdXI1WEvqLAypFUpoplFAIctF7RdVG8b2zdW7QvT3ejZ/+Lf8X3//tZXSoQQEAAAgAILFpaziNgsDgijet1F4mMBtxFiKz5U0OdvdciyDUy6XvjNlhtyWW6lFBFsRFA1+BjMKvNjgRYBFCOwKyhy4U8av/m4SFQIyo4m/lIlCNAyJUDNBhtGZuamDHy8fMzYmymdLmcU5gH6hqw0f/uPwjoNAAyrQDtmwRagHAFN/iIuHxIWKrnFxMezHRv/uhSi87qMHGQkX/9AUCiG01UrmbkhdDlBd6nIqo7or0VUez7L0Xaf+r+2jVTt3UUv6/lea9C0YCDAC4iqTFlK1pw+rdIYUv+ONtDwVGdbsHSqXblVKzAobl2N97/+5JkEwIEpVlPozM+si0gGFwEAAAS7TM9jcm6QLOAYKAAAAAovGYas3pJLwo4emsStbj48KzwtXMG4cZpqExbyiEk/fGIkv/5wshhEAoJIuukcWaymsi5EyXN1IINLA/jtJD/50gIYrA0dAUiApkMvlxD/FBwwNhKEJAkJIlDUVKNyw8W/+WJqw5GiEEYy//8uFuEplImQYVNxKIA04+iy/Ve+pSeWo7dVXjnNZHM93/91b+x1O9cV7K16s6MyS34xAAAAVXSQkBQ/Bb9Nq8C9n3dOqlrGeT013B/cVEhIWr0Jd9JxjkOyPGdj1oQgCQqdOOURrxpea4zDCg4klGAVM1gLy7/b/P/5mkAgwqBHn1lt0iQckxZgpQYQC2HIEwcY5UecfBCiSkH/1kQrC2gFYAfgAVBciEa/6Si85iPp4cI7TUlS6YlMcxi3/qRLiQBAAIkV/pGlUaAADzSJIqwEbVYtoTrVvT7+5hWrbD8U9zHO+9Hf67bo7S1vG7tz6VQ53WLsKHAAAAAEex0lhIaeRGTGsNgeAM4u7gHwrmd0oE0//uSZA8HBFhFzuH7nLAqYBgsAAAAEiU1MoxqkYivAB/AAAAAsWqjlE6DVDJGWZfuST7u/cl91reE9t00fJesK2Uy2EM3RK1J//nK4pMC4h/KI6ibD5h7NDpaN0ibOlxhCMDBUH1FfHMRNCsWpDj5FV//SKpgTos4WA3LRX//nCfPHiIm5jYfyyWvkBMkT3f3jk05AUySqAEVBRSzin0NXUPM5Ij+AaNPVdXH203/+v0dVT/ev71b/7PcjQomHhDSw8OuCDCF+mHM+JqPC47tJP0kxDxQcfHIXsycB78n7AB8756Cpv9ZVrUMO5L7U4kSDguSQ5jwhjihv4duZt/xsa7QaNULc+FTdv//WGt7kMW1LHeSwkFNaq0kaVKBqToGqUBlRwmqKKKkVJP/60TE6TYc0Y9kjb//KqJgN9JMtl0ZQm0X/1oLIkZoQhe0x95v10LQqr20VmuzrZ7S9KV7J8jdWimhaVtQtD3PVZ0bJZ+mpQ9tzdjummqQslAAAAAzO2cPI9s2oc2luJpguuoApB/4nUuwC6cR1SYP3UmImZIjdv/7kmQUggSFTM5jUi+QK8AH+AAAABJZEzuNSHyAkgAhIACMADVJSXY3Db/QxTRaXRC047kTAM3HdQMvhtYBWBQ8uOYJAcWGb8mqZHBtWtxZrEZYg2OLxB+InD9ySQlZkP//3ICcQNrALwLkn2///0zIaQwh8FE/Q/yc4kRhY6qPAw3/5lBGOAJ5z/EKs7oAgOEL0DiY5W6WTWm1/6+6tm1Dnrrn07a2en6OdU+hf9SK9C6P6VZGvUmqC2IAL+CXUZdJWZukxC6/0PrveyGozAkejL0Uu5dbn5G4TwkR5L6s+k5djMTY+ihGql51YKi/XaAAstDIGAu4ypkKgIJHj9A9ZFCl6nWkrqtKicPTNNJCLlQdykjQdvqI4PICygMiKAP///ybIGPY6A9MKEFvAsBwvkXNzhu+iIb0sGMw3fAXfUDjGGQkn8QFCLXdWvskNBAUMohYorGR/fS33bx3+PZ5z9v/9W/2+xzEW//9zEWVBjkAAAB0OMCvTtEwFmDyU75XVMIcUkwebpIBXbKYhONz1TOe2ESJmZQxHcXZfJIUwMH/+5JkGYIFC1pN43RGsiSgCCgEAAATQWkxrdBeQK4AIGAAAABNEImjN/ZcGclsXcaOPLAuN2Co2wwdRzj34DmthZ5DFqRboqMiYsgcFwlf1ing3lAIEi4S1///HJGbDkAxAAwlAxzgGxkLkh8pPkcQwly0XhY7JEFgkk3KuVr/////12bVYa6Ki5VeLm4h5EoSI070hRAPeVYKkSL20sPQHm9+G6O/6qO32L9X7tD/9S9H+n7G/Ws0mCAAACCUy2RwFL2vJDJQJrwG8A4CsYQcQwp6R4xo6iDK3zEQSW3jjcWCusgJcRp1HceJVQVOTSyxqEn1ZtUuMue9X9J3DOCHTAAicDZnRGAkCsH1/////t2LgNffaURltLVPu1Z1cPDvEenfUTBDyf/9R0iAt5EwMYvAMpgackSw5xTKhPF41S6kDjCf////+hlYCf1+ogGDIBQSBFOQ1CR40peOsMGLtPq+Zevuobr+m2xP6HvTx2x6e6/fryabO9OzbpUZDAMAAAAAUfTMQaA2SmUTbVr6HsiAok+sebilM0CTfKoSMUB0//uQZBKCBFNaTGs0FrArQBgQAAAAEuVpL21QusChACCsAAAA8MPNATc/jMM/hBjWBgUVKUQn6WXROYlj8MSWU0Dd2NxBE8QHGhWBwHIFhgnJv6yBAPDADBhmTykC6bS62WSKD0T3yUHWLcaf/MxoiE4GNOAJfAZI2K4y//+/2//XIrSNV///iwSd2ufgLyG/3oWq5AmQ+70uLn3yCaE2OYtpqa6sWc7ukx/c0dZQ/6MZ7BlsmLgAMABU/q+jxf9S0sAY3dae9KEmJAQQ1eBlM4PuWXpogqIHncnpZ5llStQUFLJGBMMPOXGiFHxro0PW+kOnYUCzKgX/ZmwRgFG1myMhjwdCJ9/45ICTABxsjaj501OLNJxi5X8vD2I2IT/5YIkKQAywkDBNwMaiDEa//h8aHAgBAgAA4UUBxwcb/5CEKyEIQjzo3/6iA1UjG2WTMxZr0MNsaidft1+6t1XENm7Qd/S/6fp3asURS963Wej/s7frTRXDAAAsSQNYxjgOstpjCvE6EuOOQPTU5n52WaBBTtDiWVWOuRErFakn5I66//uSZBaC9KFPzFn6nEApIAgIACMAEuE7KKxudlCiAB7AAAAASwiPlCyxpkSPSv1OkEBmGoarDDyjjluFOVo80kbz/9RYAMASRPdGo3PHDUfIfORQ3TTXUblsXOVf/UZmoY3A4sAFIBBolAvHn/1mJmT5kdL5ECKoksZmJfKbf+paJ2fY7NQ0h/1CZGOMAAAtKnNWaSxrkFN9lPNZBP/RW7VV1zmhFCex+n/b6bFvqpuo9Pp6FAA+bcaEyyNu8xJ4h6DVvjKFsF8n5TDsvjdxhrpPomWIpB60WYafWJXJqLBQMBoAYEuww6sPFuVeAHPBLcv1/YlBsJ7NJekXV72ywTAW/AaTCBDQlRk9J5FBkgYsDBALLyQcaDrUMQQmFJlf/3QH2OkqCGBbIkxcxn/rJwyOl5Y60SKE+VSgdJ8iBNp/+cSIlRzokkH+uv/UJXGA1od3Ikrnf3GKmdURBr6mUcg7w07inV5iVFAoIn4oHfiwoKB1EVGAAAB7yhxyWsovpnsAurNRwnLaP2dFZkrr3KS42O7cTmC6hyHSGOymHcc9df/7kmQXBgRLTMtbL56QKAAHoAAAABIVQSSN5VqAsIBf4BCMAJ3Jb/3EmpQztJEvyc+qLF/mdyOPayBCnSjv9ZfzV22Kp8dLjVrjT//C8NwBUoHRYzQ0kCSasmikSRt/9ZgUSfEnGikkbf8x8uIpE8ikikUjF//OJlxQKiSer/NMVUqb6XxazerS+1bOLZhftvhezbZQ9Lba68xduvi/+0g6v69FG6Ni4KgPaWP0UWT0TjjqqLDX5noZQS3r0lC4QEBLzOTWqvPPTRcIRo8/T4894c3yYNN61Xh2lYKigZ3Pm7oTS6n7uhgmMAoVAiIJrCYSi6s0HNMj7tOTUldyDJN8RJAVeyP/1NvAIwzEXPwtMOW444/vLLv///+rsPAVgMARky2/od1HSwvHDnlgZGJf/yhcYvzmlmJFlnI0LSwgt43Ys/VstRn/vYrRkG6S80I6U/7vtrfR1H2D99ltHbilXy/0qiMIAAKHoDeZh/ppKnqNJYs/qYDS2gRyTSyOMai8YjUOta7H1MAQNJDtvTSCnaXdgBRZVeR/+7jC0UBaEMn/+5JkHoMExExJw3M/ICrgF9AAAAAT/WknDcy+QJgAIKQQAACEZXTVZh0yYdChkZ1qGqB4KQhgFT0Vu4mVGXnYC4zglQyJBzUNXjEHrsZD+FTgD4CxYeP//8gCY3A5AKEDEBIHiuX0DBNIsyEGYcPcKk1ZzFOHH/+hIXNXq0n+rostx/c1UVv6thvUa9y3Pd6bFMTI929fRZnnrhA+5bNT0WMvc+qhcYhBLUCZ5G6ly5gyvkHyhyaVcbzOw9tHPPwrfK4zSwK6ll2GVkx5Hl/ulIWwrvaACAoeAwcBzHP5nMKLMeBoEt7HuGZIDMON53zng5G12Yzeyfp8uPCu2rjQvlclDLWsZb/+S5+AbiAGwRUgaX0EP/WoXRPiFwNRAuEAVQI5FjHOIIXTpInwYDDBUB2GOOYQQePeJOLf/ViktVzGQjIy2a97ajVeuaXFZEaBXvUiErdcetnvv91nU/48zvx/71/u/TourpRZuqr3+qoAhiggAABGEpvblzKVks2gmXbRUdJYd9++3AttEW9tLvhzF9l0l0SoClKnrMkjSPYK//uSZBiCBQxaSWNUL5Ar4Ag8AAAAERVpIQzumICrgF/AAAAAAHsmBxdved/7krlLNpdnSRtwEu4mKCQQfDDDf2M+MhhOqGiv0jwxmVSBmLWf//5IhUADc0QsO0XF3yUG83/dY5wiAEAIY1A6pIB4MKFiIENFwiehvjnJiodGDwLUwq5jOZUb//plQ1mUjXLflS2NHHRZUiSkVTStQ17WkjNGJCgs5nbpfzSb1/t0fVdo3d/asoLTVg25cajy7H/ygRiACrU2+MAd5+FC3bl2hCDMv81jnSUIMlxcbwpONPX2ftTY87Lyu/9AspSMNgAQWOldy9X78zDKlnNb/OUEoEaHpHTh48C3O//4/z9tgC4iqSGH5k8MX//DdPTHiIi5iRbeZjPE7/9Z4nwFAoGnLAcwaASuDVQjU9U7b/TJ76///9f2//84WzC6rwAUrXdVkXM349VNzvX9uZ2IKONDrJlLuhlfH2k+224MJOHLWW/9LEtTGIEAAMZ2MV3ffYqAnehpTl6RGIhafL6y2VNylFpyYKReHsc9i3dyfv67g5TdiP/7kmQXA/RnWkfDVC6wJwAX8AAAABJhZx0NUFsIrwAewAAAAE+aiAAiFe42RSz7cGDQMEhVd8zqSttTIqEFSaGfJxNnb2LYGJMh3Q+p1MySZSaLEwTJGjz7oD+IWFaDx/6orAWhAagaAWSBCxBICZt/+KqwtOgQYmP//ofau//+o0EPM/d7qFqupqen00RTfWVahzX1K0qzaUdrEF1U7aI2xGzW8wr8hqTWCQQFPMSannYSg01x5FDn1WrwKmLmLg27t5+ogg+ClUbrQKvK3fsd+beILrzjoya7Rbf4iQ3XACgRJ4hFA5A9nefJWcrAiPhxf9QxoBBUBgaN/uyitOEwPZcKhvqsQ0UkK1Ew/+dJ0BQSC0oALCA48GzDTe//UQ4zIuM8akaO4ihOFpZNn//Q7sLIIFwhzp//wwoT88/742u5P9DZ3yR7f1lfLG6U1fUbET9bvGgGwtGuJe9Aa3vhtc8+yVnUkVoFEgABAAAPv2ZI5UG3GCO8ixUh6bSnh2QQZK561DOhxquKVo0cXM5EnuzmcYbcATGQngdzGGXdjSn/+5JkHID0qFBHUxueACtgB6AAAAAUSTsULO6YAI2AX8ABjABCjQQ6nMGAiC8sf3VlKiw8D5QSun6A/ALRDBheWtm1OUBO4aAF7xCMhfyBh8I4Vf9ShjgBSAZAgJAFp4giQRf/1FowIER45pBj5FUCdHIRP//NzJcxYyNy6kb/lZST1eUi79WhpeQQ1cgt/fOWU2fy85UZsVTqT7b1Sa3lG7ynRHPRfXvrR10ADhHoGjD7v3CJQkeJA1rFwQFQ+/Mrfxa0+7WShqGtIIhQbOY6Y8ShqzNzPaI20viSe0Kgh1EfKUEgF5zWX06KpXUzfDf6QwU3AkMNv9yMFCDJgIGhtBmN0T+fblQEQwDPgwN8AAkEEm+sV0LmS37a9ajEWkPfEcEMI4daBYKl7/MyXKRYM2LBXROkPIesl/t6isTpjomQMzvkAK0UvroUiv9qs2lXWq1q4z1fst1/Qhl2zfcPR/dSj7H7apJ/oRe43R1Ia+kAZBEAAPOrKqkST9uU6LrU409LDEE9y7WLvpIwFJuKL4R57wYLOeGbvD1eW4Sq09Yw//uSZBiABK9MxctTLrAnoAgrAAAAFFkxEs3imkCggF/gAAAABz1WRPHhNlYRE03DcyEAmJZU//HEx2iCfjRX9iVMjIdxES0GXyLecHUFjQBxgPQgtNJ5vmReNm+r5uXBWws0ZkvGzue96dWOWGMrDxVw3/0HhpoHcd+1J8XQFDorEZY+SA5FBhFKhKIS7db3PQlaNCdrL7ere5/6qErbJ/1fsop6nLZ+0V/T/qdrX9SxIAAAUTnqt6OOouKyvEiD2JsnVjdenxeFI1CdPS3lC296u/xlAqoNKN56pKsMpZQ9YmbkGw419CA10rPOP2Ql40jwMDpjls1gTT0s/5ZFIHAaZMXuYfrF9nKkd6GBwN///dygGBAisgbAaAACL7f//5QKQkoLCw94+tyiVdXUi5gfMzFBRug6ZVGOc+h/uovmAXhs3t7RYeNNqGWCtZUXOsMbUiEVABgwxaKXWx9yUWPuqdvCn/eTq9lT9O1dmr79X69FrP3dHdVusRUyAA5OhPwNACRzOsp2OS9qLfSqYo49tpdWKwDi6taMv6Ak4um6j//7kmQTAvTLWcUrcy8gJwAYAAAAABKRBxQM7phAowAfQBAAAOXXooXcpRoDUnFNx1+p1cxIKGkD4CDoQqFcalUCDQmYaYHJPolpGLgCYwcBF7lttiatj3+7rJUO6aK2TKAX/ENA7NEI03//+uZqFPC+JNBzBzxwJvdP0Fh6kEgGFw0YyniYgb/6FUhlRl8xOvWj0GV7WD09/tojPpr7ecsQsXRTTVV7e3axOuNpsUq9jeeQl+mtSvf3lvYl9cS8uz1XUbZY9nK/U87+Vm5cnFMKeMTD+O5LrJCIGLJL9ZPagB93ULdHnCJZQW3CGX55eSqYE88md6nk0BqChwQcL8HDijLbkqf5/oenq3efMC4sckb4pY9rXFDgSRA2ZEAjZvUgh/+wlAMXgKAwNYiAaehtwr5HE+YjuLBazErEVLxZnmYvgNYGDWj6UxodL6agcMfs1uTZ2i77VbOX+5vUlJ43cL+i2+92vqZe75pjP3XsqMFdPWm9TUIq9NdaAmhAAAM/Lur0VcpVtm1EAUQgSWQ/+DSy0Mbd+G2DxOeep/sHki//+5JkEwIEZlnFy1MWsCVgCBkAAAAShWcRLVC6wJWAYGQAAAAq1TS5qghKGIXCR5+t8/9xGIPxr/wtuoOEDSwwGcEXQdn/JgTwME8XiKk2avrNyAnSHCykvyfJH/8oDuEKgKWAB+BjKMgQ4gxeSKRFSrQxnmEtmM//6ii6NqjI9ynZ38v0YKN/63+u5ppmZRFb0qaxcaiqvarOwl61LW9Tev9KEdP/o/v/v/917P6NtIAMAAzyrvlHYYW5nc3iAoO2jnDH4KqoDovLH+ECNDeXUsed2Ky52d/t0gqOEggkC3yYs/265z1wZAmG6SmACI7WEDzMSBOzqX8V4BIIV8coniAkg9p1JjcqkFILu1MU0xr/7FEZkUMCJSBiFwGGBCnn19WxLp11fRREXyaIqsqtd7MZeZEkkS1cwSeZGpUtNFkc09o81BFiUAFmOFV6VbbdY0iSt9abCUxqV6C1H/0M2fo7vR/R1/b/TRagADP51rVm+i/XmruKh0HlpJT9vGI8guWJkojY1qzkXsKbvK9FB5tRFBG/mln5WIgpuoc/9DzW//uSZBwCBCVaxDMzFrAioAfgAAAAEbE5DwzEusijAF/gEAAAMaQeSoDLQ7lqXVuuYg1YJxK6Snq2RMmQQMn+URvvV9fMiJGQFxAY6gAlEFHqV0/Yq6uxso68xr6DvI0/Rn0s5Vl2QoUbZdepJiQ2kU+PUnvr5Lev/DRZmz5ZjXP3/m+v3o85Vse3T7a776Jf16WaAAFSDybxo61h2YGh1zc7PS30SyjOdrCTVl5pwWewbRvb2kw59AnuhiPUd+606goU7jAsDWWMNC5/wDDslIwnVfuzmgWuB7RxVaFloLIoQcWem2zKWURkz79+q5ZJkVgC4C+QdIJTf3Vb6KHBAEDgoCIZlF0R7LtUxCOP2c73857keQ0crZ1tf+6TR/dvWXBFWWEq5AxWKOfbVp39fjyI165j6ZeyYxR1eGnPuKezt9/q/3yv+j6V5SUUZlNFSRZ6246wgtFGHcItNSyWS+6h6JEXwcRxWqtAfSVxmzqRN0XSnLU5T0sph4SJGy0GZlyGQ93qmpplxt84zffvnZ2AYgl7nbWN3ziVOHiIQCMEEv/7kmQsDwUGT8GDT06yLyAX0AQiABHtiwgH5RHIpoAfbBAAAH3nXra6Ld138e31u1X6mMYnxlCZHU5/eN+z9yOzzh90XFFDSg4ISxEfvf61nfZMu3sbirgBGJS87SHndNv7dedYllgLG/ffbilUR2sJrRFqHndPPNe2jdoteg/YS/lZJKPmJSs1aijuqSh8lHJfZ2XqUt7D7WUL0UrSDEndPzZK7cTJKvt68Vu3C/Z2rEUjA6xpsaq0t7PGIRzHHCGXPmXshs4/DJmgec3zLGIU1ixv889/vtjCtnO017Kv/NfuPNPZCEGufUz53+8wl3cO/yNFyLJDw4WBIOBtpdOSxA5fmdSSLeLmRlRPDXT+nfSY4m74Xi7++G/ukrvua2/Vn8niUB8DFbU+0i5CEQIhw+56xZdYjUmtS1Zi2xrG+y13/9CEoSV333fdHVf/saxjcrXUgD7W7R5rWwublsQaTYQgPQV+Fn6OUKFqYfnZ3yCndsbylWdiTt8XINw5jfPsRORunH5TMYYY583yzvPdLzPkinMe838ZSCSYcbC/vn3/+5JkJoUEGEzCCZhE4ixAF5gEAAAQgZMGo2BziM0AHuAQAADOf39fz+LNrrRzAoNi+u+kWZiOOq2i2t4Za5u8dUtZtWWbzGscN37rb068XLriqsh1b1UhSWYfGCUMK4UcB73JftQ6lRj8Uc39ZJ31S/8XAhzezKHA/UQX38X/sQ39cIfwglAGoZ+insHEVlf75B5KuzPk6opGsctasbz3b/Kj5uguGXAZZ+7cooZc3BW0zYQojsimJTdiHcLvN54Zfjanr3e4/qkbAsJT/+u71/e7vb1hlDlLxcUCP/cmqwkblFQ4ZABYUBpcwZ1dS2SIlNV2EE5ZM0SZOfrrqZds9oXmJLAw/O+URtJKRISOrY88NcFaYqhOg8t1j3eytqe5eFRrj1MVQW0fu3/ToSK4VGuPCjrKdEjXu3r9OSpYMCAh4LgkKP5+IgGGnK1Dy+ox6dtYa3Up5qhlMF36PKml1fDa2kAra8hmil0ffxYY1rA7F1St3cp7m5Va5lnzX6jOP4Vsu5Ps5kt1h+Pc/3a/X637dzFzdWHwEwoYjolpEn7D//uSZDIA9JlhwLDYROInABbFBAAADv2q+gRE2EgAADSAAAAETGisuHh7QvV6IRLZXhL0YtZlauICYG9vPEopqQlWkStVwtussOU6GPR/QQFDxAMAIAC628U4q3inW3inW3inW3inW3inW3inW3inW3inW3inW3inW3XP6r/DZKw1/1sUdZINh5Ju0hyCkPrprml0nUbJOYEkO0BFAPJLKLxskk//9q9d5aqBop2rXz/1vbXnfPaq0FASUkSM5VTnfPv//7a8+ZYkS2ZyUcfP5mt//rewMAkvMzNb2qqo6WqqqtNo5LvMtXqqqq2pxiRKgqcBFqsssstlQyayWUjL8jVlBAwQIGEcYUrWxyMpZ5GsstIyayz///8yayhQwME6Oj/mrWWwyZWsDBQQMFEDKaf/7KsVWVBqq1URKqkSiv/KtJQaqIs1fTdNTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7kmRYD/K9RiUQABhiAAANIAAAAQAAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=");
			console.log(`ITRON MAPS GEOLOCATE VERSION ${VERSION}`)

			// PANEL INIT
			document.querySelector('#versionId').innerHTML = VERSION;
		  	var txRadio = document.querySelector('#radio-tx');
		  	var rxRadio = document.querySelector('#radio-rx');
		  	lasttestRuns = 1
		  	document.getElementById("testRuns").value = lasttestRuns;
		  	rxRadio.checked = true
			document.querySelector('#txId').disabled = true

			// check online offline support
			function updateIndicator() {
				statusSpan = document.querySelector("#onlineStatus")
				if(navigator.onLine) { // true|false
					online = true;
					statusSpan.className = "online"
					statusSpan.innerHTML = "Online"
				}else{
					online = false;
					statusSpan.className = "offline"
					statusSpan.innerHTML = "Offline"
				}
			}

			// Update the online status icon based on connectivity
			window.addEventListener('online',  updateIndicator);
			window.addEventListener('offline', updateIndicator);
			updateIndicator();

			// check browser support
			if (!mapboxgl.supported()) {
				alert('Your browser does not support Mapbox GL');
			}
		  	mapboxgl.accessToken = 'pk.eyJ1IjoibmlrZXNobWFuIiwiYSI6ImNrMWV0MXNtMjBrd2szYnBkcTJleHE3MXcifQ.FE99HTuQlTyC4aXnaKu_SQ';

		  	// detect change in TX or RX
			txRadio.addEventListener('change', (event) => {			
					/*if last tx_id exists, then prompt for confirmation before changing*/
					if (lastTxId){
						var result = confirm(`Tx Id ${lastTxId} already exists. Do you want to add or change TX Id?`);
						if (!result) {
							rxRadio.checked = true
							return false;
						}
					}	
					document.getElementById("rxId").value          = lastrxId
					document.getElementById("testRuns").value      = lasttestRuns
					document.querySelector('#div-rxId').hidden     = true
					document.querySelector('#div-testRuns').hidden = true
					document.querySelector('#txId').disabled       = false
					appInTx                                        = true
			});
			rxRadio.addEventListener('change', (event) => {
					document.querySelector('#div-rxId').hidden     = false
					document.querySelector('#div-testRuns').hidden = false
					document.getElementById("rxId").value          = lastrxId
					document.getElementById("testRuns").value      = lasttestRuns
					document.querySelector('#txId').disabled       = true
					appInTx                                        = false
			});

			loc_button    = document.getElementById("loc_button");
			showInMap     = document.querySelector('#showInMap');
			tableData     = document.getElementById("tableContents");
			export2csv    = document.querySelector('#export2csv');
			mapDiv        = document.querySelector('#map');

			mapDiv.hidden = !online;
			showInMap.value = online? "Hide Map" : "Show in Map"

			document.getElementById("locationId").value = 1;
			var mapObj = new mapboxgl.Map({
				container: 'map', // container id
				style: 'mapbox://styles/mapbox/streets-v11', // stylesheet location
				center: [2.3522, 48.8566], // starting position [lng, lat] PARIS
				// center: [139.7503 ,35.6762], // starting position [lng, lat] TOKYO
				zoom: MAP_INIT_ZOOM ,// starting zoom
			});

			// event handler for show map/ hide map button
			showInMap.onclick = function(e){
				dismissBtn = document.querySelector('.dismissButton')
				if (dismissBtn){
					dismissBtn.click()
				}				
				btn = e.target
				if (mapDiv.hidden){
					mapDiv.hidden=false
					btn.value = "Hide Map"
				}else{
					mapDiv.hidden=true;
					btn.value = "Show in Map"
				}
			}

			// event handler for export button
			export2csv.onclick = function(btn){

				let csvContent = "data:text/csv;charset=utf-8,";
				rxId           = document.getElementById("rxId").value
				csvContent     += (fields.slice(0,fields.length-1)).join(",") + "\r\n"
				// if there is not entries, exit
				if (loc_data.length<1){
					alert("No entries to export.");
					return;
				}

				loc_data.forEach(function(rowArray) {
					let row    = rowArray.join(",");
					csvContent += row + "\r\n";
				});
				var encodedUri = encodeURI(csvContent);
				var link       = document.createElement("a");
				var filename   = `${rxId}_loc_time.csv`
				link.setAttribute("href", encodedUri);
				link.setAttribute("download", filename);
				document.body.appendChild(link); // Required for FF
				link.click();
			};

			function removeItem(tmpLoc){
				// remove in loc_data                      
				var index   = get_index_from_loc_for_loc_data(tmpLoc)
				loc_data.splice(index, 1);
				// remove in loc_ids
				index       = loc_ids.indexOf(tmpLoc)
				loc_ids.splice(index, 1);
				//remove in markers
				index = get_index_from_loc_for_markers(tmpLoc)
				if (index!=-1){
					markersList[index].remove()
				}
			}
		  
			document.addEventListener('click',function(e){
				if(e.target && e.target.className== 'removeTxt'){
					  var rowId   = e.target.parentElement.id
					  var tempArr = rowId.split('-')
					  var tmpLoc  = tempArr[2]
					  if(!tmpLoc) {
						alert(`Unknown locId ${tmpLoc}`)
						return
					  }
					  var result = confirm(`Do you confirm to remove LOC ${tmpLoc}`);
					  if (result) {
						removeItem(tmpLoc)
						//re-show the table
						showTable()                         
					  }
				 }
			});

			function get_current_date(){
				d = new Date().time()
				myDate=""
				console.log(d.getYear())
				// myDate = date.getYear() + "-" + strdate.getMonth()+1 + "-" + date.getDay()
				return myDate

			}

			function showTable(){
				let myHtml = "";

				loc_data.forEach(function(rowArray){
					myHtml += `<tr class="tableRow" id="${rowArray[0]}">`
					for (var i = 0; i < rowArray.length; i++) {
						myHtml += `<td>${rowArray[i]}</td>`
					}
					myHtml += "<td class='removeTxt'>Remove</td>"
					myHtml += "</tr>"
				});
				tableData.innerHTML = myHtml

			}

			function get_index_from_loc_for_loc_data(locId){
				for (var i = loc_data.length - 1; i >= 0; i--) {
					if (loc_data[i][1] == locId){
						return i;
					}
				}
				return -1;
			}

			function get_index_from_loc_for_markers(locId){
				for (var i = markersList.length - 1; i >= 0; i--) {
					let tmpLoc = markersList[i].id
					if (tmpLoc == locId){
						return i;
					}
				}
				return -1;
			}

			function testComplete(){
				// audioComplete.play();
				alert("Test Completed. You can now move to new location")
				if (timerId) clearInterval(timerId);

			}

			function resetTimer(timerId){
				document.getElementById("locationId").disabled = false
				document.getElementById("rxId").disabled       = false
				document.getElementById("testRuns").disabled   = false
				loc_button.classList.remove('testStarted')
				loc_button.classList.add('testNotStarted')
				clearInterval(timerId)
				timerRunning = false
				loc_button.value = "Start at your location"

			}


			loc_button.onclick = function(e){

				var lat = lon = alt = 0
				locId        = document.getElementById("locationId").value.trim()
				rxId         = document.getElementById("rxId").value.trim()
				lastrxId     = rxId
				txId         = document.getElementById("txId").value.trim()
				lastTxId     = txId
				testRuns     = Number(document.getElementById("testRuns").value.trim())
				lasttestRuns = testRuns
				uId          = txId + "-" + rxId + "-" + locId // globally unique identification
				var testTimePerLocation = testRuns? testTime * testRuns : testTime
				testTimePerLocation = (45 + testTimePerLocation + 10)*1000 // (first timeslot + (timeslot * channels) * repetitions  + 10 sec final) *1000 msec
				/*In case the timer is running and the button is pressed, simply just stop the timer*/
				if(timerRunning){
				  var res = confirm("Timer Running. Do you want to abort?")
				  if (res){
					resetTimer(timerId)
					alert("Current timer Aborted. Test Incomplete. You may have to delete the last entry.")
					
				  }
				  return
				}
				/*Sanity check on empty inputs*/				
				if (!locId || !txId ){
				  alert("Location or Tx Id cannot be EMPTY.")
				  return false
				}
				if (appInTx == false){
					if(!rxId || !testRuns){
						alert("Rx Id or test Runs cannot be EMPTY")
						return false
					}
				}

				/*Sanity check on repeated loc_ids*/
				if(loc_ids.includes(locId)){
				  alert(`location Id '${locId}' already exists`)
				  console.log(`location Id '${locId}' already exists`)
				  return
				}

				// get the geo location and handle the succes, failure
				navigator.geolocation.getCurrentPosition(
					
					success= function(position) {

						lat         = position.coords.latitude
						lon         = position.coords.longitude
						alt         = position.coords.altitude
						acc         = position.coords.accuracy // in meters, bigger the number lesser the accuracy
						timestamp   = position.timestamp// is current time in msecs
						entryFor    = appInTx? "tx" : "rx";
						coordinates = [lon, lat]; // mapbox format

						// console.log(myDate.toLocaleString('en-GB', { timeZone: 'UTC' }))
						myDate    = new Date(timestamp)
						myDate    = myDate.toLocaleString('en-GB', {  })
						splitted  = myDate.split(',')
						dat       = splitted[0].split('/')
						time      = splitted[1].trim()
						timestamp = dat[2] + "-" + dat[1] + "-" + dat[0] + " " + time

						 // push data to array
						loc_data.push([uId, locId, txId, rxId, timestamp, lat, lon, acc, alt, testRuns, entryFor])
						loc_ids.push(locId)

						showTable()

						var now        = (new Date().getTime());
						var expiryTime = now + testTimePerLocation
						
						// create a timer if the app is in RX to show the remaining time at the current location and show an alert when time is up
						if (appInTx==false){
							// disable the inputs
							document.getElementById("locationId").disabled = true;
							document.getElementById("rxId").disabled       = true;
							document.getElementById("testRuns").disabled   = true;
							timerId = setInterval(function(){ 
										now         = (new Date().getTime());
										var msecRem = Math.floor((expiryTime - now))
										if(msecRem <= 0) {
											resetTimer(timerId)
											testCompleteAudio.play()
											alert("Test Completed. You can now move to next location.")
											return
										}
										var minutes = Math.floor((msecRem % (1000 * 60 * 60)) / (1000 * 60));
										var seconds = Math.floor((msecRem % (1000 * 60)) / 1000);
										//                          
										loc_button.classList.remove('testNotStarted')
										loc_button.classList.add('testStarted')
										loc_button.value = `${minutes} mins ${seconds} secs `
										timerRunning     = true
								}, 1000);
							
						}

						var m = {
									'marker' : new Object(),
									'overlay': new Object()
								}

						var titleContent   = `RX ${rxId} LOC${locId}`
						// create the popup html
					    popupHtml=`<div class="popUpContent"><h4>DEV ${rxId} LOC ${locId} </h4><div>${parseFloat(lat).toFixed(4)}, ${parseFloat(lon).toFixed(4)}</div></div>`

					    var div = window.document.createElement('div');
						div.innerHTML = popupHtml;
					    // var popup = new mapboxgl.Popup({ offset: 30 }).setDOMContent(div)
					    // var markerHeight = 50, markerRadius = 10, linearOffset = 25;
						// var popupOffsets = {
						//  'top': [0, 0],
						//  'top-left': [0,50],
						//  'top-right': [0,50],
						//  'bottom': [0, -markerHeight],
						//  'bottom-left': [linearOffset, (markerHeight - markerRadius + linearOffset) * -1],
						//  'bottom-right': [-linearOffset, (markerHeight - markerRadius + linearOffset) * -1],
						//  'left': [markerRadius, (markerHeight - markerRadius) * -1],
						//  'right': [-markerRadius, (markerHeight - markerRadius) * -1]
						//  };
					    var popup = new mapboxgl.Popup({ offset: 35}).setHTML(popupHtml)
					    // .setHTML(popupHtml);
					    
						markerColor = appInTx ? "red" : 'green';

						// create marker element
						markerElement = document.createElement('div');
						markerElement.className = `marker ${markerColor}`;
						markerElement.innerHTML = '<span><b>' + locId + '</b></span>'
						
						m.marker = new mapboxgl.Marker({
							element : markerElement,
					        draggable:true,
					        // color:markerColor
					        // anchor:'center',
					    })
					    .setLngLat(coordinates)
					    .addTo(mapObj)
					    .setPopup(popup)

					    m.marker.id= locId;
					    m.marker.title = titleContent
					    // add to the markers list 
						markersList.push(m.marker)

						mapObj.flyTo({center: coordinates, zoom: MAP_LOCATE_ZOOM});

						m.marker.on('dragend', function(e){
					    	var lngLat = m.marker.getLngLat();
							var lat = lngLat.lat;
							var lon = lngLat.lng;

							var tmpLoc = parseInt(e.target._popup._content.textContent.split(" ")[3])
							var tmpRx = parseInt(e.target._popup._content.textContent.split(" ")[1])

							popupHtml=`<div class="popUpContent"><h4>DEV ${tmpRx} LOC ${tmpLoc} </h4><div>${parseFloat(lat).toFixed(4)}, ${parseFloat(lon).toFixed(4)}</div></div>`

							var index          = get_index_from_loc_for_loc_data(tmpLoc)
							this.getPopup().setHTML(popupHtml)
							loc_data[index][5] = lat
							loc_data[index][6] = lon

							// update the table
							showTable()
					    });//drag end function
						
						//update the location id to new non existing value
						do{
							locId++
							// console.log(locId.toString(), loc_ids, loc_ids.includes(locId.toString())? "exists" : "not exists")
						}while(loc_ids.includes(locId.toString()))
						document.getElementById("locationId").value = locId
					}, // success

					error= function(error) {
						alert(`Error Code ${error.code} : ${error.message}`);
					},
					options= {
						enableHighAccuracy: true,
						timeout: 10000, // the maximum time in msec the user can wait for the response
						maximumAge: 0 // user agent must not used cached data
					}

				)//navigator close

			}; //location button on click

		</script>
	</body>
</html>

<!-- https://github.com/sitepoint-editors/mapit -->